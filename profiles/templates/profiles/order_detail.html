{% extends "base.html" %}
{% block content %}
<div class="container my-5" style="max-width:860px;">
  <h1 class="bn-section-title mb-3">Order #{{ order.id }}</h1>
  <p>Status: <strong>{{ order.status|capfirst }}</strong></p>
  <h5 class="mt-3">Items</h5>
  <ul>
    {% for item in order.items.all %}
      <li>{{ item.product.name }} × {{ item.qty }} — {{ item.price }}</li>
    {% endfor %}
  </ul>
  <h5 class="mt-3">Totals</h5>
  <p>Subtotal: {{ order.total }}<br>Tax: {{ order.tax_amount }}<br>Shipping: {{ order.shipping }}<br><strong>Grand total: {{ order.grand_total }}</strong></p>
  <div class="row">
    <div class="col-md-6 mb-3">
      <h5>Shipping address</h5>
      <p class="mb-0">
        {% if order.full_name %}{{ order.full_name }}<br>{% endif %}
        {% if order.address_line1 %}{{ order.address_line1 }}<br>{% endif %}
        {% if order.address_line2 %}{{ order.address_line2 }}<br>{% endif %}
        {% if order.postal_code %}{{ order.postal_code }} {% endif %}{% if order.city %}{{ order.city }}{% endif %}<br>
        {% if order.country %}{{ order.country }}{% endif %}
        {% if order.phone %}<br>Phone: {{ order.phone }}{% endif %}
      </p>
    </div>

    <div class="col-md-6 mb-3">
      <h5>Billing address</h5>
      <p class="mb-0">
        {% if order.billing_name %}{{ order.billing_name }}<br>
        {% elif order.full_name %}{{ order.full_name }}<br>{% endif %}

        {% if order.billing_line1 %}{{ order.billing_line1 }}<br>
        {% else %}{% if order.address_line1 %}{{ order.address_line1 }}<br>{% endif %}{% endif %}

        {% if order.billing_line2 %}{{ order.billing_line2 }}<br>
        {% else %}{% if order.address_line2 %}{{ order.address_line2 }}<br>{% endif %}{% endif %}

        {% if order.billing_postal %}{{ order.billing_postal }} {% elif order.postal_code %}{{ order.postal_code }} {% endif %}
        {% if order.billing_city %}{{ order.billing_city }}{% elif order.city %}{{ order.city }}{% endif %}<br>

        {% if order.billing_country %}{{ order.billing_country }}
        {% elif order.country %}{{ order.country }}{% endif %}
      </p>
    </div>
  </div>

</div>
{% endblock %}
